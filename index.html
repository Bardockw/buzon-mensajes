<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buzón de Mensajes</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      color: white;
    }
    .login-container, .message-container {
      background: #1a1a1a;
      border-radius: 20px;
      padding: 20px;
      box-shadow: 0px 10px 30px rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease-in-out;
    }
    .hidden {
      display: none;
    }
    .input-container textarea {
      width: 100%;
      padding: 10px;
      border-radius: 10px;
      background: #333;
      color: white;
      border: none;
      outline: none;
      transition: all 0.3s ease-in-out;
    }
    button {
      background: #007aff;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      color: white;
      cursor: pointer;
      transition: background 0.3s ease-in-out;
    }
    button:hover {
      background: #005ecb;
    }
  </style>
</head>
<body>
  <div id="loginForm" class="login-container">
    <h1>Bienvenido</h1>
    <form>
      <input type="text" id="username" placeholder="Usuario" required>
      <input type="password" id="password" placeholder="Contraseña" required>
      <button type="submit">Ingresar</button>
    </form>
  </div>

  <div id="messageBox" class="hidden message-container">
    <div class="header">
      <h2>Buzón de Mensajes</h2>
    </div>
    <div class="messages" id="messagesList"></div>
    <div class="input-container">
      <textarea id="messageInput" placeholder="Escribe tu mensaje aquí..."></textarea>
      <div class="actions">
        <button id="sendMessage">Enviar</button>
        <button id="clearMessage">Borrar</button>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      gsap.from(".login-container", { duration: 1, opacity: 0, y: 50, ease: "power2.out" });

      const loginForm = document.getElementById('loginForm');
      const messageBox = document.getElementById('messageBox');
      const usernameInput = document.getElementById('username');
      const passwordInput = document.getElementById('password');
      const messageInput = document.getElementById('messageInput');
      const sendMessageButton = document.getElementById('sendMessage');
      const clearMessageButton = document.getElementById('clearMessage');
      const messagesList = document.getElementById('messagesList');

      let messages = JSON.parse(localStorage.getItem('messages')) || [];

      loginForm.addEventListener('submit', (e) => {
        e.preventDefault();
        gsap.to(loginForm, { duration: 0.5, opacity: 0, y: -50 });
        setTimeout(() => {
          loginForm.classList.add('hidden');
          messageBox.classList.remove('hidden');
          gsap.fromTo(messageBox, { opacity: 0, y: 50 }, { opacity: 1, y: 0 });
        }, 500);
        loadMessages();
      });

      sendMessageButton.addEventListener('click', () => {
        const message = messageInput.value.trim();
        if (message) {
          messages.push({ content: message, sender: "You" });
          localStorage.setItem('messages', JSON.stringify(messages));
          updateMessages();
          messageInput.value = '';
        }
      });

      clearMessageButton.addEventListener('click', () => {
        messageInput.value = '';
      });

      function updateMessages() {
        messagesList.innerHTML = '';
        messages.forEach((msg) => {
          const div = document.createElement('div');
          div.className = `message-item ${msg.sender === "You" ? "sender" : ""}`;
          div.textContent = msg.content;
          messagesList.appendChild(div);
        });
        messagesList.scrollTop = messagesList.scrollHeight;
      }

      function loadMessages() {
        updateMessages();
      }
    });
  </script>
</body>
</html>
